# 项目概览

## 这是什么？

AgentRun AIO Demo 是一个 **AI 对话式代码生成与执行平台**。

简单来说：
- 你用**中文**描述你想做什么
- AI 自动生成**可执行的代码**
- 代码在**安全的沙箱**中执行
- 你可以**实时观看**执行过程

## 能做什么？

### 典型应用场景

1. **网页数据爬取**
   - 爬取豆瓣电影评论
   - 获取微博热搜
   - 抓取知乎高赞回答
   - 采集电商商品信息

2. **浏览器自动化**
   - 自动填写表单
   - 批量下载文件
   - 自动化测试网页
   - 模拟用户操作

3. **数据分析**
   - 情感分析
   - 文本分类
   - 数据可视化
   - 报告生成

### 核心优势

| 特性 | 说明 | 优势 |
|------|------|------|
| **自然语言交互** | 用中文描述需求 | 无需编程经验 |
| **智能代码生成** | AI 自动生成代码 | 节省开发时间 |
| **Sandbox 执行** | 安全隔离环境 | 无需本地配置 |
| **实时可视化** | VNC 查看操作 | 直观了解过程 |
| **多步骤任务** | 自动拆分任务 | 处理复杂需求 |

## 技术特色

### 🆕 Node.js + Puppeteer

- **零依赖问题**：内置 Puppeteer，无需手动安装浏览器
- **执行稳定**：相比 Python + Playwright 更可靠
- **生态丰富**：Node.js 社区活跃，库丰富

### 🤖 LangChain + 百炼大模型

- **强大的语言理解**：准确理解中文需求
- **智能任务拆分**：自动将复杂任务拆分为小步骤
- **多轮对话记忆**：能记住上下文，进行连贯对话

### 🔒 AgentRun Sandbox

- **安全隔离**：代码在云端沙箱执行，本地环境安全
- **预装环境**：浏览器、Node.js、Python 等已配置好
- **实时监控**：VNC 实时查看，日志实时推送

## 使用流程

```
1. 用户输入需求（中文）
   ↓
2. AI 生成代码（Node.js/Python）
   ↓
3. 代码在 Sandbox 执行
   ↓
4. 结果实时展示（VNC + 日志）
   ↓
5. 用户查看结果或继续对话
```

## 系统架构

```
┌─────────────────────────────────────────────────┐
│                   Web 界面                       │
│  ┌────────┐  ┌────────┐  ┌────────┐            │
│  │ 对话   │  │  VNC   │  │  日志  │            │
│  │ 面板   │  │  画面  │  │  面板  │            │
│  └────────┘  └────────┘  └────────┘            │
└─────────────────────────────────────────────────┘
                    ↕ WebSocket/HTTP
┌─────────────────────────────────────────────────┐
│              后端服务 (FastAPI)                  │
│  ┌──────────────┐     ┌──────────────┐         │
│  │ AI 代码生成器 │     │ Sandbox 执行器 │        │
│  │ (LangChain)  │     │ (AgentRun SDK)│        │
│  └──────────────┘     └──────────────┘         │
└─────────────────────────────────────────────────┘
                    ↕
┌─────────────────────────────────────────────────┐
│            AgentRun Sandbox (云端)              │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐     │
│  │ Node.js  │  │  Python  │  │ Browser  │     │
│  │Puppeteer │  │Playwright│  │  (VNC)   │     │
│  └──────────┘  └──────────┘  └──────────┘     │
└─────────────────────────────────────────────────┘
```

## 技术栈

### 前端
- React 18 + TypeScript
- Vite + TailwindCSS
- Zustand (状态管理)
- noVNC (远程桌面)

### 后端
- FastAPI + Uvicorn
- LangChain (AI 框架)
- 阿里云百炼 (大模型)
- AgentRun SDK (Sandbox)

### 执行环境
- Node.js + Puppeteer (主要)
- Python + Playwright (可选)
- Shell 命令

## 适用人群

### 非技术人员
- 无需编程经验
- 通过自然语言描述需求
- AI 自动生成并执行代码

### 开发者
- 快速原型开发
- 自动化测试
- 数据采集工具

### 数据分析师
- 网页数据爬取
- 数据清洗处理
- 情感分析

### 产品经理
- 快速验证想法
- 制作原型 Demo
- 数据调研

## 限制与注意

### 执行限制
- 单次执行限制 30 秒
- 复杂任务需拆分为多步骤

### 使用规范
- 遵守目标网站的 robots.txt
- 不用于非法用途
- 注意个人信息保护

### 成本考虑
- AgentRun Sandbox 按使用量计费
- 阿里云百炼 API 按调用次数计费
- 及时清理不用的 Sandbox

## 快速开始

### 5 分钟快速部署

```bash
# 1. 克隆项目
git clone <repository-url>
cd agentrun-aio-demo

# 2. 配置环境变量
cat > .env << 'EOF'
DASHSCOPE_API_KEY=your-key
AGENTRUN_ACCESS_TOKEN=your-token
AIO_TEMPLATE_NAME=your-template
AGENTRUN_ACCOUNT_ID=your-account-id
EOF

# 3. 安装依赖
uv pip install -r requirements.txt

# 4. 启动服务
uv run src/main.py

# 5. 访问应用
# 浏览器打开 http://localhost:8181
```

### 第一个任务

1. 创建 Sandbox（点击顶部按钮）
2. 在聊天框输入："打开必应搜索"
3. 点击生成代码下方的"运行"按钮
4. 观看 VNC 画面中浏览器打开必应

## 更多资源

- **[完整 README](../README.md)** - 详细文档
- **[新手指南](QUICKSTART_FOR_BEGINNERS.md)** - 手把手教程
- **[部署检查清单](DEPLOYMENT_CHECKLIST.md)** - 确保正确部署
- **[使用示例](../README.md#-使用示例)** - 更多案例

## 获取帮助

- 查看 [常见问题](../README.md#-常见问题)
- 提交 [Issue](../../issues)
- 查看后端日志获取错误详情

---

**开始你的 AI 代码生成之旅吧！**
